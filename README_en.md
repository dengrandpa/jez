# jez - Some simple and commonly used packages...

![GitHub go.mod Go version (subdirectory of monorepo)](https://img.shields.io/github/go-mod/go-version/dengrandpa/jez)
[![codecov](https://codecov.io/gh/dengrandpa/jez/branch/main/graph/badge.svg?token=E3LRLIYTK2)](https://codecov.io/gh/dengrandpa/jez)
[![Go Report Card](https://goreportcard.com/badge/github.com/dengrandpa/jez)](https://goreportcard.com/report/github.com/dengrandpa/jez)
[![test](https://github.com/dengrandpa/jez/actions/workflows/workflows.yml/badge.svg)](https://github.com/dengrandpa/jez/actions/workflows/workflows.yml)
[![Go Reference](https://pkg.go.dev/badge/github.com/dengrandpa/jez.svg)](https://pkg.go.dev/github.com/dengrandpa/jez)
![GitHub](https://img.shields.io/github/license/dengrandpa/jez)


English | [简体中文](./README.md)

### Special thanks to ChatGPT for providing technical support! !

## Install

```sh
go get github.com/dengrandpa/jez
```

## Usage

Import the corresponding package name when using it. For example:

### slice package
```go
import "github.com/dengrandpa/jez/sliceutil"
```

### map package
```go
import "github.com/dengrandpa/jez/maputil"
```

### …………

------

## Index

-   [Fileutil](#fileutil)：Provides some tool functions for file operations, including file traversal, file creation, file deletion, etc.
-   [Maputil](#maputil)：Provides some common map operation functions.
-   [Randomutil](#randomutil)：Some functions generated by random numbers are provided.
-   [Sliceutil](#sliceutil)：Provides some operations on slices, including traversal, mapping, filtering, deduplication, difference set, intersection set, etc.
-   [Timeutil](#timeutil)：Provides some time-related operations, including time formatting, time calculation, time interval calculation, time conversion, etc.

------

## Fileutil
Provides some tool functions for file operations, including file traversal, file creation, file deletion, etc.

```go
import "github.com/dengrandpa/jez/fileutil"
```
### Function

-   [FilterMap](./docs/fileutil_en.md#filterMap)：Traverse the current directory, calling iteratee on each file, and if it returns true, put the result in the result set.
-   [FilterMapWalk](./docs/fileutil_en.md#filterMapWalk)：Returns to traverse all directories and subdirectories, call iteratee for each file, and if it returns true, put the result into the result set.
-   [IsDir](./docs/fileutil_en.md#isDir)：Determine whether it is a directory.
-   [IsEmptyDir](./docs/fileutil_en.md#isEmptyDir)：Determine whether the directory is empty.
-   [FileExists](./docs/fileutil_en.md#fileExists)：Determine whether the file exists.
-   [DirExists](./docs/fileutil_en.md#dirExists)：Determine whether the directory exists.
-   [OsCreate](./docs/fileutil_en.md#osCreate)：Equivalent to os.Create, create a file. If the file already exists, it will be ignored. After use, it needs to be closed.
-   [CreateFiles](./docs/fileutil_en.md#createFiles)：Create a file, if the file already exists, ignore it.
-   [OverwriteFiles](./docs/fileutil_en.md#overwriteFiles)：Create a file, and if the file already exists, overwrite it.
-   [CreateDirs](./docs/fileutil_en.md#createDirs)：Create a directory, including subdirectories. If the directory already exists, ignore it.
-   [CreateFilesWithDirs](./docs/fileutil_en.md#createFilesWithDirs)：Create a file, if the file already exists, ignore it, and create a directory at the same time, including subdirectories.
-   [OverwriteFilesWithDirs](./docs/fileutil_en.md#overwriteFilesWithDirs)：Create a file, if the file already exists, overwrite it, and create a directory at the same time, including subdirectories.
-   [CreateFileWithData](./docs/fileutil_en.md#createFileWithData)：Create a file and write string data.
-   [CopyFile](./docs/fileutil_en.md#copyFile)：Copy the file.
-   [FindFileWalk](./docs/fileutil_en.md#findFileWalk)：Traverse directories and subdirectories to find files.
-   [FindFileWalkFilter](./docs/fileutil_en.md#findFileWalkFilter)：Traverse directories and subdirectories, find files, and call the iteratee function for each file. If it returns true, it means that it has been found.
-   [Filenames](./docs/fileutil_en.md#filenames)：Return to the file name slice under the directory.
-   [FilenamesFilter](./docs/fileutil_en.md#filenamesFilter)：Traverse the files in the directory, call the iteratee function for each file, and add the file name to the slice if it returns true.
-   [FilenamesBy](./docs/fileutil_en.md#filenamesBy)：Traverse the files in the directory, call the iteratee function for each file, and add the returned string to the slice.
-   [FilenamesWalk](./docs/fileutil_en.md#filenamesWalk)：Return the file name slice under the directory, including the subdirectory.
-   [FilenamesWalkFilter](./docs/fileutil_en.md#filenamesWalkFilter)：Return the files in the directory, including subdirectories, call the iteratee function for each file, and add the file name to the slice if it returns true.
-   [FilenamesWalkBy](./docs/fileutil_en.md#filenamesWalkBy)：Return the files in the directory, including subdirectories, call the iteratee function for each file, and add the returned string to the slice.
-   [DeleteFiles](./docs/fileutil_en.md#deleteFiles)：Delete the file.
-   [DeleteDirs](./docs/fileutil_en.md#deleteDirs)：Delete the directory.
-   [DeleteEmptyDirWalk](./docs/fileutil_en.md#deleteEmptyDirWalk)：Return to delete the empty directory, including subdirectories, for example: /a/b. When deleting b, if a is also an empty directory, it will also be deleted.
-   [DeleteWalkBy](./docs/fileutil_en.md#deleteWalkBy)：Recursively delete files and subdirectories in the specified directory, itratee: used to process the logic of each file (excluding the directory), receive the file path and the os.DirEntry instance as parameters.
-   [Zip](./docs/fileutil_en.md#zip)：Compress the directory or file into a zip file, and if zip already exists, it will be overwritten.
-   [ZipFilter](./docs/fileutil_en.md#zipFilter)：Call the iteratee function for each file or directory. If it returns true, it will be compressed into a zip file. If the zip file already exists, it will be overwritten.
-   [Unzip](./docs/fileutil_en.md#unzip)：Unzip the zip file to the specified directory, and if the directory does not exist, it will be created.
-   [ReadAll](./docs/fileutil_en.md#readAll)：Read all the contents of the file as a string.
-   [ReadLines](./docs/fileutil_en.md#readLines)：Read the first n lines of the file, and if n < 0, read all lines.

------

## Maputil
Provides some common map operation functions.

```go
import "github.com/dengrandpa/jez/maputil"
```
### Function

-   [ForEach](./docs/maputil_en.md#forEach)：Traverse the map and call the iteratee function for each element.
-   [Filter](./docs/maputil_en.md#filter)：Traverse the map and call the iteratee function for each element. If iteratee returns true, the element is added to the result map.
-   [Keys](./docs/maputil_en.md#keys)：Traverse the map and add each key to the result slice.
-   [KeysBy](./docs/maputil_en.md#keysBy)：Traverse the map, call the iteratee function for each element, and return the result after the call.
-   [Values](./docs/maputil_en.md#values)：Return all values in the map.
-   [ValuesBy](./docs/maputil_en.md#valuesBy)：Traverse the map, call the iteratee function for each element, and return the result after the call.
-   [ValuesUnique](./docs/maputil_en.md#valuesUnique)：Return all the values in the map, and the result will be degened.
-   [KeysAndValues](./docs/maputil_en.md#keysAndValues)：Returns all keys and values in the map.
-   [KeysAndValuesFilter](./docs/maputil_en.md#keysAndValuesFilter)：Traverse the map, call the iteratee function for each element, and if iteratee returns true, the element is added to the result slice.
-   [Deletes](./docs/maputil_en.md#deletes)：Delete multiple elements by key.
-   [DeleteByValues](./docs/maputil_en.md#deleteByValues)：Delete multiple elements by value.
-   [DeleteFilter](./docs/maputil_en.md#deleteFilter)：Traverse the map, call the iteratee function for each element, and delete the element if iteratee returns true.
-   [ReplaceValue](./docs/maputil_en.md#replaceValue)：Replace all elements whose value is equal to old.
-   [MapToSliceBy](./docs/maputil_en.md#mapToSliceBy)：The map is sliced, the map is traversed, the iteratee function is called for each element, and the result slice is returned after the call.
-   [MapToSliceFilter](./docs/maputil_en.md#mapToSliceFilter)：The map is sliced, the map is traversed, and the iteratee function is called on each element. If iteratee returns true, the element is added to the result slice.

------

## Randomutil
Some functions generated by random numbers are provided.

```go
import "github.com/dengrandpa/jez/randomutil"
```
### Function

-   [Random](./docs/randomutil_en.md#random)：Randomly generate strings.
-   [RandomLower](./docs/randomutil_en.md#randomLower)：Randomly generate lowercase letter strings.
-   [RandomUpper](./docs/randomutil_en.md#randomUpper)：Randomly generate capital letter strings.
-   [RandomNumeral](./docs/randomutil_en.md#randomNumeral)：Randomly generate numeric strings.
-   [RandomCaseLetters](./docs/randomutil_en.md#randomCaseLetters)：Randomly generate uppercase and lowercase letter strings.
-   [RandomLowerNumeral](./docs/randomutil_en.md#randomLowerNumeral)：Randomly generate lowercase letters and numeric strings.
-   [RandomUpperNumeral](./docs/randomutil_en.md#randomUpperNumeral)：Randomly generate uppercase and numeric strings.
-   [RandomCharset](./docs/randomutil_en.md#randomCharset)：Randomly generated strings, including numbers, uppercase and lowercase letters.
-   [RandomInt](./docs/randomutil_en.md#randomInt)：Randomly generated integers, including min, not max, that is, [min,max).
-   [RandomIntSlice](./docs/randomutil_en.md#randomIntSlice)：Randomly generated integer slices.
-   [RandomIntSliceUnique](./docs/randomutil_en.md#randomIntSliceUnique)：Randomly generate non-repetitive integer slices.
-   [RandomBytes](./docs/randomutil_en.md#randomBytes)：Randomly generated byte slices.
-   [UUIDv4](./docs/randomutil_en.md#uUIDv4)：Generate UUID v4 version according to RFC4122.
-   [Shuffle](./docs/randomutil_en.md#shuffle)：Disrupt the order of the elements in the slice.
-   [Sample](./docs/randomutil_en.md#sample)：Randomly return an element from the slice.
-   [Samples](./docs/randomutil_en.md#samples)：N elements are randomly returned from the slice, and the result is not repeated.

------

## Sliceutil
Provides some operations on slices, including traversal, mapping, filtering, deduplication, difference set, intersection set, etc.

```go
import "github.com/dengrandpa/jez/sliceutil"
```
### Function

-   [ForEach](./docs/sliceutil_en.md#forEach)：Traverse the slice and call the iteratee function for each element.
-   [ForEachWithBreak](./docs/sliceutil_en.md#forEachWithBreak)：Traverse the slice and call the iteratee function for each element, and if it returns false, stop the traversal.
-   [Filter](./docs/sliceutil_en.md#filter)：Traverse the slice and call the iteratee function for each element, returning only the element with the call result of true.
-   [Map](./docs/sliceutil_en.md#map)：Traverse the slice and call the iteratee function for each element, and return the result after the call.
-   [Contain](./docs/sliceutil_en.md#contain)：Check whether the slice contains the target element.
-   [ContainAll](./docs/sliceutil_en.md#containAll)：Verify whether the slice contains all the target elements.
-   [FilterMap](./docs/sliceutil_en.md#filterMap)：The iteratee function is called for each element by traversing the slice. If the call result is true, the called element is returned.
-   [AppendIfNotDuplicate](./docs/sliceutil_en.md#appendIfNotDuplicate)：Add elements to slices, and if the elements already exist, they will not be added.
-   [AppendMultipleIfNotDuplicate](./docs/sliceutil_en.md#appendMultipleIfNotDuplicate)：Add multiple elements to the slice. If the element already exists, it will not be added.
-   [Remove](./docs/sliceutil_en.md#remove)：Delete elements from slices.
-   [RemoveFilter](./docs/sliceutil_en.md#removeFilter)：The iteratee function is called for each element by traversing the slice. If the call result is true, the element is deleted.
-   [Unique](./docs/sliceutil_en.md#unique)：Remove duplicates.
-   [UniqueBy](./docs/sliceutil_en.md#uniqueBy)：Traverse the slice and call the iteratee function for each element, returning the unique element.
-   [UniqueNonzero](./docs/sliceutil_en.md#uniqueNonzero)：Delete duplicate elements and zero values.
-   [UniqueNonzeroBy](./docs/sliceutil_en.md#uniqueNonzeroBy)：Traverse the slice and call the iteratee function for each element, returning a unique, non-zero element.
-   [Nonzero](./docs/sliceutil_en.md#nonzero)：Delete the zero value.
-   [Replace](./docs/sliceutil_en.md#replace)：Replace the element old in the slice with new, up to n times, and if n is -1, replace all old elements.
-   [ReplaceAll](./docs/sliceutil_en.md#replaceAll)：Replace the element old in the slice with new, and replace all the old elements.
-   [Difference](./docs/sliceutil_en.md#difference)：The difference, the result is not heavy.
-   [DifferenceUnique](./docs/sliceutil_en.md#differenceUnique)：The difference is set, and the result is to be repeated.
-   [Intersection](./docs/sliceutil_en.md#intersection)：The intersection, the result element is unique.
-   [MutualDifference](./docs/sliceutil_en.md#mutualDifference)：The difference, the result is not serious.
-   [ToMapBy](./docs/sliceutil_en.md#toMapBy)：Traverse the slice and convert the elements in the slice to the key and value of the map.
-   [Repeat](./docs/sliceutil_en.md#repeat)：Returns a slice containing n items.
-   [Equal](./docs/sliceutil_en.md#equal)：Return true when the length, order and value are equal.
-   [EqualElement](./docs/sliceutil_en.md#equalElement)：Return true when the length and value are equal, regardless of the order.
-   [FindIndex](./docs/sliceutil_en.md#findIndex)：Returns the index of the first matched element, and -1 if it does not exist.
-   [FindIndexFilter](./docs/sliceutil_en.md#findIndexFilter)：Returns the index of the first element of true by calling the iteratee function, and -1 if it does not exist.
-   [FindDuplicates](./docs/sliceutil_en.md#findDuplicates)：Return all the duplicate elements in the slice, and the result will not be repeated.
-   [FindUniqueDuplicates](./docs/sliceutil_en.md#findUniqueDuplicates)：Return all duplicate elements in the slice, and the result will be deduplicate.
-   [Min](./docs/sliceutil_en.md#min)：Return the minimum value
-   [Max](./docs/sliceutil_en.md#max)：Return the maximum value
-   [Drop](./docs/sliceutil_en.md#drop)：Returns a slice that deletes n elements from the beginning, and returns an empty slice if n is greater than the length of the slice.
-   [DropLast](./docs/sliceutil_en.md#dropLast)：Returns a slice that deletes n elements from the end, and returns an empty slice if n is greater than the length of the slice.
-   [Slice](./docs/sliceutil_en.md#slice)：Returns the slice of the index from n to m, but does not include m, which is equivalent to slice[n:m], that is, [min,max), but not panic when overflowing.
-   [IsSorted](./docs/sliceutil_en.md#isSorted)：Determine whether the slices have been sorted.
-   [IsSortedBy](./docs/sliceutil_en.md#isSortedBy)：Traverse the slice and call the iteratee function for each element to determine whether it has been sorted.
-   [Reverse](./docs/sliceutil_en.md#reverse)：Invert the order of the elements in the slice.
-   [Flatten](./docs/sliceutil_en.md#flatten)：Convert two-dimensional slices to one-dimensional slices.
-   [InsertAt](./docs/sliceutil_en.md#insertAt)：Insert a value at the specified index of the slice. If the index is greater than or less than 0 in length of the slice, the value is attached to the end of the slice.

------

## Timeutil
Provides some time-related operations, including time formatting, time calculation, time interval calculation, time conversion, etc.

```go
import "github.com/dengrandpa/jez/timeutil"
```
### Function

-   [ParseTime](./docs/timeutil_en.md#parseTime)：Convert the string to time, the default format is YYYYMMDDHHMMSS.
-   [ParseTimestamp](./docs/timeutil_en.md#parseTimestamp)：Convert timestamps to time.
-   [StartOfMinute](./docs/timeutil_en.md#startOfMinute)：Return time t Start time of the minute yyyy-mm-dd hh:mm:00.
-   [EndOfMinute](./docs/timeutil_en.md#endOfMinute)：Return time t The end time of the minute yyyy-mm-dd hh:mm:59.
-   [StartOfHour](./docs/timeutil_en.md#startOfHour)：Return time t The start time of the hour yyyy-mm-dd hh:00:00.
-   [EndOfHour](./docs/timeutil_en.md#endOfHour)：Return time t The end time of the hour yyyy-mm-dd hh:59:59.
-   [StartOfDay](./docs/timeutil_en.md#startOfDay)：Return time t Start time of the day yyyy-mm-dd 00:00:00.
-   [EndOfDay](./docs/timeutil_en.md#endOfDay)：Return time t The end time of the day yyyy-mm-dd 23:59:59.
-   [StartOfWeekMonday](./docs/timeutil_en.md#startOfWeekMonday)：Return time t The start time of the week, Monday is the first day yyyy-mm-dd 00:00:00.
-   [EndOfWeekSunday](./docs/timeutil_en.md#endOfWeekSunday)：Return time t The end time of the week, Sunday is the last day. yyyy-mm-dd 23:59:59.
-   [StartOfWeekSunday](./docs/timeutil_en.md#startOfWeekSunday)：Return time t The start time of the week, Sunday is the first day. yyyy-mm-dd 00:00:00.
-   [EndOfWeekMonday](./docs/timeutil_en.md#endOfWeekMonday)：Return time t The end time of the week where the week is located, Monday is the last day. yyyy-mm-dd 23:59:59.
-   [StartOfMonth](./docs/timeutil_en.md#startOfMonth)：Return time t The start time of the month yyyy-mm-01 00:00:00.
-   [EndOfMonth](./docs/timeutil_en.md#endOfMonth)：Return time t The end time of the month yyyy-mm-dd 23:59:59.
-   [StartOfYear](./docs/timeutil_en.md#startOfYear)：Return time t The start time of the year yyyy-01-01 00:00:00.
-   [EndOfYear](./docs/timeutil_en.md#endOfYear)：Return time t The end time of the year yyyy-12-31 23:59:59.
-   [AddSecond](./docs/timeutil_en.md#addSecond)：Add or delete seconds.
-   [AddMinute](./docs/timeutil_en.md#addMinute)：Add or delete minutes.
-   [AddHour](./docs/timeutil_en.md#addHour)：Add or delete hours.
-   [AddDay](./docs/timeutil_en.md#addDay)：Add or delete days.
-   [AddWeek](./docs/timeutil_en.md#addWeek)：Add or delete weeks.
-   [AddMonth](./docs/timeutil_en.md#addMonth)：Add or delete months.
-   [AddYear](./docs/timeutil_en.md#addYear)：Add or delete years.
-   [FormatTime](./docs/timeutil_en.md#formatTime)：Format the time as a string, the default format is yyyy-mm-dd hh:mm:ss.
-   [FormatTimestamp](./docs/timeutil_en.md#formatTimestamp)：Format the timestamp as a string, the default format is yyyy-mm-dd hh:mm:ss.
-   [FormatNow](./docs/timeutil_en.md#formatNow)：Returns the string format of the current time, the default format is yyyy-mm-dd hh:mm:ss.
-   [IsLeapYear](./docs/timeutil_en.md#isLeapYear)：Determine whether the year is a leap year.
-   [RangeHours](./docs/timeutil_en.md#rangeHours)：Returns a slice of all hours between two times, including start and end, that is, [start,end]. If start and end results are the same, only 1.
-   [RangeDays](./docs/timeutil_en.md#rangeDays)：Returns the slice of all days between two times, including start and end, that is, [start, end]. If the result of start and end is the same, only 1 is returned..
-   [RangeMonths](./docs/timeutil_en.md#rangeMonths)：Returns slices of all months between two times, including start and end, that is, [start,end]. If start and end results are the same, only 1.
-   [RangeYears](./docs/timeutil_en.md#rangeYears)：Returns slices of all years between two times, including start and end, that is, [start, end]. If start and end results are the same, only 1.
-   [NewTime](./docs/timeutil_en.md#newTime)：It is equivalent to time.Date, and if the parameters are not passed, it is equivalent to time.Now..
-   [SubTime](./docs/timeutil_en.md#subTime)：Returns days, hours, minutes and seconds of the difference between t1 and t2.
-   [SubTimestamp](./docs/timeutil_en.md#subTimestamp)：Returns days, hours, minutes and seconds of the difference between t1 and t2.
-   [CST](./docs/timeutil_en.md#cST)：Return to China time zone.
-   [ToCST](./docs/timeutil_en.md#toCST)：Convert time to Chinese time zone.

------

